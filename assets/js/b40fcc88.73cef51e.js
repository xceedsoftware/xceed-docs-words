"use strict";(self.webpackChunkxceed_libs_doc=self.webpackChunkxceed_libs_doc||[]).push([[7001],{83531:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=t(74848),o=t(28453),s=t(11470),a=t(19365);const i={},c="How to connect through an HTTP proxy server",l={id:"code-snippets/working-with-classes-from-filesystem/file01",title:"How to connect through an HTTP proxy server",description:"The Proxy property and the HttpProxyClient class are used to connect to an FTP server through an HTTP proxy. Once the Proxy property has been set with an HttpProxyClient object, regular FileSystem FTP operations can be performed. The Proxy property cannot be changed once a connection has been made to the FTP server. Note that only HTTP proxy servers are currently supported. Furthermore, there is no need to use the proxy capabilities when connecting through a transparent proxy server.",source:"@site/ftp/code-snippets/working-with-classes-from-filesystem/file01.md",sourceDirName:"code-snippets/working-with-classes-from-filesystem",slug:"/code-snippets/working-with-classes-from-filesystem/file01",permalink:"/xceed-libs-doc/ftp/code-snippets/working-with-classes-from-filesystem/file01",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebarftp",previous:{title:"Working with classes from the Xceed.FileSystem namespace",permalink:"/xceed-libs-doc/ftp/category/working-with-classes-from-the-xceedfilesystem-namespace"},next:{title:"How to copy items from an FTP server",permalink:"/xceed-libs-doc/ftp/code-snippets/working-with-classes-from-filesystem/file02"}},u={},p=[];function d(e){const n={code:"code",em:"em",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"how-to-connect-through-an-http-proxy-server",children:"How to connect through an HTTP proxy server"})}),"\n",(0,r.jsxs)(n.p,{children:["The Proxy property and the ",(0,r.jsx)(n.code,{children:"HttpProxyClient"})," class are used to connect to an FTP server through an HTTP proxy. Once the Proxy property has been set with an ",(0,r.jsx)(n.code,{children:"HttpProxyClient"})," object, regular FileSystem FTP operations can be performed. The Proxy property cannot be changed once a connection has been made to the FTP server. Note that only HTTP proxy servers are currently supported. Furthermore, there is no need to use the proxy capabilities when connecting through a transparent proxy server."]}),"\n",(0,r.jsx)(n.p,{children:"The following examples demonstrate how to connect to an FTP server through an HTTP proxy server using the steps listed below:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Create an instance of the ",(0,r.jsx)(n.em,{children:"FtpConnection"})," class for the connection between the client and the FTP server. If you are using ",(0,r.jsx)(n.em,{children:"FtpConnection"})," in a UI application, assign your form (or any other control that implements the ",(0,r.jsx)(n.code,{children:"ISynchronizeInvoke"})," interface) to the SynchronizingObject property and call Application.DoEvents in an event such as ByteProgression."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Assign an ",(0,r.jsx)(n.code,{children:"HttpProxyClient"})," object to the ",(0,r.jsx)(n.em,{children:"FtpConnection"}),"'s Proxy property."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Perform any FileSystem-based operations you wish, such as transferring files and folders to or from the FTP server, compressing or uncompressing them, encrypting or decrypting them, using them with memory-based operations, etc. The code below downloads a folder to the local computer. For more details on how to perform this operation, see the next topic, How to copy items from an FTP server (download)."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Dispose of the ",(0,r.jsx)(n.em,{children:"FtpConnection"})," once the operation is completed by calling its Dispose method or, in C#, by creating the ",(0,r.jsx)(n.em,{children:"FtpConnection"})," instance in a using block.   If an instance of an ",(0,r.jsx)(n.em,{children:"FtpConnection"})," object is not disposed of, connections with the FTP server may remain active until the FTP server times-out or the garbage-collector passes."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.A,{children:[(0,r.jsx)(a.A,{value:"csharp",label:"C#",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'  using Xceed.FileSystem;\r\n  using Xceed.Ftp;\r\n  \r\n  using (FtpConnection connection = new FtpConnection( "ftp.myplace.com",\r\n                                                      "ftp_user_name",\r\n                                                      "ftp_user_name\'s remote password" ) )\r\n  {\r\n    connection.Proxy = new HttpProxyClient( "192.168.0.20", 8080,\r\n                                            "proxy_user_name",\r\n                                            "proxy_user_name\'s proxy password" );\r\n    //When using FtpConnection in a UI application\r\n    connection.SynchronizingObject = this; \r\n\r\n    FtpFolder source = new FtpFolder( connection );\r\n    DiskFolder destination = new DiskFolder( "d:\\\\ftp_download" );\r\n  \r\n    source.CopyFilesTo( destination, false, true );\r\n  }\n'})})}),(0,r.jsx)(a.A,{value:"vb.net",label:"Visual Basic .NET",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-vb.NET",children:'  Imports Xceed.FileSystem\r\n  Imports Xceed.Ftp\r\n\r\n  Dim connection As FtpConnection\r\n\r\n  Try\r\n    connection = New FtpConnection( "ftp.myplace.com", "ftp_user_name",\r\n                                    "ftp_user_name\'s remote password" )\r\n\r\n    \'When using FtpConnection in a UI application \r\n    connection.SynchronizingObject = Me\r\n\r\n\r\n    connection.Proxy = new HttpProxyClient( "192.168.0.20", _\r\n                                            8080, "proxy_user_name", _\r\n                                            "proxy_user_name\'s proxy password" )\r\n\r\n  Dim source As New FtpFolder(connection)\r\n  Dim destination As New DiskFolder("d:\\ftp_download")\r\n\r\n    source.CopyFilesTo( destination, False, True )            \r\n  Finally\r\n    connection.Dispose()\r\n  End Try\n'})})})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>a});t(96540);var r=t(34164);const o={tabItem:"tabItem_Ymn6"};var s=t(74848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,a),hidden:t,children:n})}},11470:(e,n,t)=>{t.d(n,{A:()=>T});var r=t(96540),o=t(34164),s=t(23104),a=t(56347),i=t(205),c=t(57485),l=t(31682),u=t(70679);function p(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return p(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}(t);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const o=(0,a.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(o.location.search);n.set(s,e),o.replace({...o.location,search:n.toString()})}),[s,o])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,s=d(e),[a,c]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s}))),[l,p]=m({queryString:t,groupId:o}),[f,y]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,s]=(0,u.Dv)(t);return[o,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:o}),b=(()=>{const e=l??f;return h({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{b&&c(b)}),[b]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);c(e),p(e),y(e)}),[p,y,s]),tabValues:s}}var y=t(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(74848);function g(e){let{className:n,block:t,selectedValue:r,selectValue:a,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),u=e=>{const n=e.currentTarget,t=c.indexOf(n),o=i[t].value;o!==r&&(l(n),a(o))},p=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>c.push(e),onKeyDown:p,onClick:u,...s,className:(0,o.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:s}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function w(e){const n=f(e);return(0,x.jsxs)("div",{className:(0,o.A)("tabs-container",b.tabList),children:[(0,x.jsx)(g,{...n,...e}),(0,x.jsx)(v,{...n,...e})]})}function T(e){const n=(0,y.A)();return(0,x.jsx)(w,{...e,children:p(e.children)},String(n))}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var r=t(96540);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);