"use strict";(self.webpackChunkxceed_libs_doc=self.webpackChunkxceed_libs_doc||[]).push([[7847],{19210:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var i=t(74848),n=t(28453),a=t(11470),s=t(19365);const l={},o="Removing items from a tar archive",c={id:"code-snippets/tar-gzip-capabilities/creating-writing/removing-item-from-tar",title:"Removing items from a tar archive",description:"This topic demonstrates how to remove items from a GZipped Tar archive by retrieving a reference to a file contained within.",source:"@site/zip/code-snippets/tar-gzip-capabilities/creating-writing/removing-item-from-tar.md",sourceDirName:"code-snippets/tar-gzip-capabilities/creating-writing",slug:"/code-snippets/tar-gzip-capabilities/creating-writing/removing-item-from-tar",permalink:"/xceed-libs-doc/zip/code-snippets/tar-gzip-capabilities/creating-writing/removing-item-from-tar",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebarzip",previous:{title:"Copying items to Tar/Bzip2 archive",permalink:"/xceed-libs-doc/zip/code-snippets/tar-gzip-capabilities/creating-writing/copy-item-tarbzip2"},next:{title:"Adding items to a Tar archive with QuickTar",permalink:"/xceed-libs-doc/zip/code-snippets/tar-gzip-capabilities/creating-writing/adding-item-tar-quicktar"}},d={},u=[{value:"Basic steps",id:"basic-steps",level:2},{value:"Demonstration",id:"demonstration",level:2},{value:"Things you should consider",id:"things-you-should-consider",level:2}];function h(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"removing-items-from-a-tar-archive",children:"Removing items from a tar archive"})}),"\n",(0,i.jsx)(r.p,{children:"This topic demonstrates how to remove items from a GZipped Tar archive by retrieving a reference to a file contained within."}),"\n",(0,i.jsx)(r.admonition,{type:"note",children:(0,i.jsx)(r.p,{children:"Tar and FileSystem-based GZip are not currently available in Xceed's .NET Compact Framework products."})}),"\n",(0,i.jsx)(r.h2,{id:"basic-steps",children:"Basic steps"}),"\n",(0,i.jsx)(r.p,{children:"To remove an item from a GZipped Tar archive, the following steps must be performed:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Retrieve a reference to a file contained within the Tar archive."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Once you have a reference to a file, verify the ",(0,i.jsx)(r.code,{children:"Exists"})," property to make sure that the file actually exists."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Call the ",(0,i.jsx)(r.code,{children:"Delete"})," method to delete the file."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.admonition,{type:"note",children:(0,i.jsxs)(r.p,{children:["When performing many operations on an archive, you may wish to consider optimizing your code by using ",(0,i.jsx)(r.a,{href:"/zip/basic-concepts/optimizing-batch-updates-to-folder",children:"batch updates"}),"."]})}),"\n",(0,i.jsx)(r.p,{children:"Using a non-GZipped Tar archive may be preferable in some situations, for example, when read/write speed is essential but storage space is not, when you need to access individual files in the Tar archive without uncompressing the entire archive, or when the files inside the Tar archive are already compressed."}),"\n",(0,i.jsx)(r.admonition,{type:"note",children:(0,i.jsx)(r.p,{children:"Setting the LicenseKey property with Tar also unlocks the GZip capabilities."})}),"\n",(0,i.jsx)(r.h2,{id:"demonstration",children:"Demonstration"}),"\n",(0,i.jsx)(r.p,{children:"This example demonstrates how to remove a file from within a GZipped Tar archive."}),"\n",(0,i.jsxs)(a.A,{children:[(0,i.jsx)(s.A,{value:"csharp",label:"C#",default:!0,children:(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-csharp",children:'  using Xceed.Tar;\r\n  using Xceed.GZip;\r\n  using Xceed.FileSystem;\r\n\r\n  DiskFile diskFile = new DiskFile("c:\\\\test.tar.gz");\r\n  GZippedFile gzip = new GZippedFile(diskFile);\r\n  TarArchive tar = new TarArchive(gzip);\r\n\r\n  AbstractFile file;\r\n\r\n  file = tar.GetFile("\\\\temp\\\\test1.txt") ;\r\n\r\n  if file.Exists\r\n    file.Delete();\n'})})}),(0,i.jsx)(s.A,{value:"vb.net",label:"Visual Basic .NET",children:(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-vb.NET",children:'Imports Xceed.Tar\r\nImports Xceed.GZip\r\nImports Xceed.FileSystem\r\n\r\nDim diskFile As New DiskFile("c:\\test.tar.gz")\r\nDim gzip As New GZippedFile(diskFile)\r\nDim tar As New TarArchive(gzip)\r\n\r\nDim file As AbstractFile\r\n\r\nfile = tar.GetFile("\\temp\\test1.txt")\r\n\r\nIf file.Exists Then\r\n  file.Delete()\r\nEnd If\n'})})})]}),"\n",(0,i.jsx)(r.p,{children:"This example demonstrates how to remove a file from within a non-GZipped Tar archive."}),"\n",(0,i.jsxs)(a.A,{children:[(0,i.jsx)(s.A,{value:"csharp",label:"C#",default:!0,children:(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-csharp",children:'  using Xceed.Tar;\r\n  using Xceed.FileSystem;\r\n\r\n  DiskFile diskFile = new DiskFile(@"c:\\test\\test.tar");\r\n  TarArchive tar = new TarArchive(diskFile);\r\n\r\n  AbstractFile file = tar.GetFile(@"\\temp\\test1.txt");\r\n\r\n  if( file.Exists )\r\n    file.Delete();\n'})})}),(0,i.jsx)(s.A,{value:"vb.net",label:"Visual Basic .NET",children:(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-vb.NET",children:'  Imports Xceed.Tar\r\n  Imports Xceed.FileSystem\r\n\r\n  Dim diskFile As New DiskFile("c:\\test.tar")\r\n  Dim tar As New TarArchive(diskFile)\r\n\r\n  Dim file As AbstractFilefile = tar.GetFile("\\temp\\test1.txt")\r\n\r\n  If file.Exists Then\r\n    file.Delete()\r\n  End If\n'})})})]}),"\n",(0,i.jsx)(r.h2,{id:"things-you-should-consider",children:"Things you should consider"}),"\n",(0,i.jsx)(r.p,{children:"The main questions you should ask yourself when removing items from a Tar archive are:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Do you want to filter (specify specific files and folders) the items that are to be deleted? Use ",(0,i.jsx)(r.code,{children:"filters"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Do you want to remove a specific folder? Create an instance of a ",(0,i.jsx)(r.code,{children:"TarredFolder"})," rather than a ",(0,i.jsx)(r.code,{children:"TarredFile"})," object"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Do you already have a reference on a folder? Use the ",(0,i.jsx)(r.code,{children:"GetFile"})," or ",(0,i.jsx)(r.code,{children:"GetFolder"})," methods method to retrieve a reference on the file or folder to remove."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},19365:(e,r,t)=>{t.d(r,{A:()=>s});t(96540);var i=t(34164);const n={tabItem:"tabItem_Ymn6"};var a=t(74848);function s(e){let{children:r,hidden:t,className:s}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(n.tabItem,s),hidden:t,children:r})}},11470:(e,r,t)=>{t.d(r,{A:()=>w});var i=t(96540),n=t(34164),a=t(23104),s=t(56347),l=t(205),o=t(57485),c=t(31682),d=t(70679);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:r,children:t}=e;return(0,i.useMemo)((()=>{const e=r??function(e){return u(e).map((e=>{let{props:{value:r,label:t,attributes:i,default:n}}=e;return{value:r,label:t,attributes:i,default:n}}))}(t);return function(e){const r=(0,c.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function p(e){let{value:r,tabValues:t}=e;return t.some((e=>e.value===r))}function m(e){let{queryString:r=!1,groupId:t}=e;const n=(0,s.W6)(),a=function(e){let{queryString:r=!1,groupId:t}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:r,groupId:t});return[(0,o.aZ)(a),(0,i.useCallback)((e=>{if(!a)return;const r=new URLSearchParams(n.location.search);r.set(a,e),n.replace({...n.location,search:r.toString()})}),[a,n])]}function f(e){const{defaultValue:r,queryString:t=!1,groupId:n}=e,a=h(e),[s,o]=(0,i.useState)((()=>function(e){let{defaultValue:r,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!p({value:r,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:r,tabValues:a}))),[c,u]=m({queryString:t,groupId:n}),[f,v]=function(e){let{groupId:r}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(r),[n,a]=(0,d.Dv)(t);return[n,(0,i.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:n}),b=(()=>{const e=c??f;return p({value:e,tabValues:a})?e:null})();(0,l.A)((()=>{b&&o(b)}),[b]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),v(e)}),[u,v,a]),tabValues:a}}var v=t(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(74848);function x(e){let{className:r,block:t,selectedValue:i,selectValue:s,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),d=e=>{const r=e.currentTarget,t=o.indexOf(r),n=l[t].value;n!==i&&(c(r),s(n))},u=e=>{let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;r=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;r=o[t]??o[o.length-1];break}}r?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.A)("tabs",{"tabs--block":t},r),children:l.map((e=>{let{value:r,label:t,attributes:a}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:i===r?0:-1,"aria-selected":i===r,ref:e=>o.push(e),onKeyDown:u,onClick:d,...a,className:(0,n.A)("tabs__item",b.tabItem,a?.className,{"tabs__item--active":i===r}),children:t??r},r)}))})}function j(e){let{lazy:r,children:t,selectedValue:a}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){const e=s.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:(0,n.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map(((e,r)=>(0,i.cloneElement)(e,{key:r,hidden:e.props.value!==a})))})}function y(e){const r=f(e);return(0,g.jsxs)("div",{className:(0,n.A)("tabs-container",b.tabList),children:[(0,g.jsx)(x,{...r,...e}),(0,g.jsx)(j,{...r,...e})]})}function w(e){const r=(0,v.A)();return(0,g.jsx)(y,{...e,children:u(e.children)},String(r))}},28453:(e,r,t)=>{t.d(r,{R:()=>s,x:()=>l});var i=t(96540);const n={},a=i.createContext(n);function s(e){const r=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),i.createElement(a.Provider,{value:r},e.children)}}}]);